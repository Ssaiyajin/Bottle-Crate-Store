<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Add new Crate</title>
    <link th:href="@{/css/style.css}" rel="stylesheet"/>
</head>
<body>

<div th:replace="fragments/header.html :: header"></div>

<div id="boxes">
    <div id="leftbox">
        <h1>Add New Crate</h1>
    </div>
</div>

<form th:object="${crate}" th:action="@{/addnewcrate}" method="post">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
    <table>
        <tr>
            <td><label for="name">Name:</label></td>
            <td>
                <input th:field="*{name}" id="name" type="text" style="width:250px"/>
                <font color="red"> *</font>
                <span class="error_msg" th:errors="*{name}" th:if="${#fields.hasErrors('name')}"></span>
            </td>
        </tr>

        <tr>
            <td><label for="price">Price:</label></td>
            <td>
                <input th:field="*{price}" id="price" type="text" style="width:250px"/>
                <font color="red"> *</font>
                <span class="error_msg" th:errors="*{price}" th:if="${#fields.hasErrors('price')}"></span>
            </td>
        </tr>

        <tr>
            <td><label for="pic">Photo URL:</label></td>
            <td>
                <input th:field="*{pic}" id="pic" type="text" style="width:250px"/>
                <font color="red"> *</font>
                <span class="error_msg" th:errors="*{pic}" th:if="${#fields.hasErrors('pic')}"></span>
            </td>
        </tr>

        <tr>
            <td><label for="bottle">Bottle:</label></td>
            <td>
                <select th:field="*{bottle.id}" id="bottle" style="width:250px">
                    <option th:each="bottle : ${bottles}"
                            th:value="${bottle.id}"
                            th:text="${bottle.name}"></option>
                </select>
                <font color="red"> *</font>
                <div style="font-size:small">Please choose a bottle type for this crate</div>
            </td>
        </tr>

        <tr>
            <td><label for="inStock">Stock Quantity:</label></td>
            <td>
                <input th:field="*{inStock}" id="inStock" type="number" min="1" style="width:250px"/>
                <font color="red"> *</font>
                <span class="error_msg" th:errors="*{inStock}" th:if="${#fields.hasErrors('inStock')}"></span>
            </td>
        </tr>

        <tr>
            <td><label for="noOfBottles">Number of Bottles:</label></td>
            <td>
                <input th:field="*{noOfBottles}" id="noOfBottles" type="number" min="1" max="20" style="width:250px"/>
                <font color="red"> *</font>
                <span class="error_msg" th:errors="*{noOfBottles}" th:if="${#fields.hasErrors('noOfBottles')}"></span>
            </td>
        </tr>

        <tr>
            <td/>
            <td><input type="submit" value="Save"/></td>
        </tr>
    </table>
</form>

</body>
</html>